{% extends "main.html" %} {% block title %} HOME {% endblock %} {% block content %}
<div class="mx-5 my-5">
  <table class="table table-dark table-bordered table-striped">
    <thead class="bg-primary">
      <tr>
        <th scope="col">#</th>
        <th scope="col">NAME</th>
        <th scope="col">EPISODE NO</th>
        <th scope="col">TYPE</th>
        <th scope="col">DATE</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>
<script>
$(document).ready(function() {
  var json = {{content | safe}}
  var tr;
  for(var i = 0; i < json.length; i++) {
    tr = $('<tr/>');
    tr.append("<td>" + i + "</td>");
    tr.append(`<td onclick="return onclickfunc('${ json[i].slug }') style="color:white" id="table-data"> ${ json[i].name }</td>`);
    tr.append("<td>" + json[i].episode + "</td>");
    tr.append("<td>" + json[i].type + "</td>");
    tr.append("<td>" + json[i].episode_date + "</td>");
    $('tbody').append(tr);
  }
});

function onclickfunc (href) {
        console.log(href)
        window.location.href="{{ url_for('detail', url=" + href + ")}}"
    }
</script> {% endblock %}