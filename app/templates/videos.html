{% extends "main.html" %} {% block content %}
<div class="container-fluid mt-5">
    <div class="row">
        <div class="col-sm-2">
            <table class="table table-dark table-bordered table-striped">
                <thead class="bg-primary">
                    <tr>
                        <th scope="col">PLAYER</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <div class="col-sm-9">
            <div class="embed-responsive embed-responsive-16by9">
                <iframe id="player"
                    class="embed-responsive-item"
                    src="" allowfullscreen
                ></iframe>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function() {
      var json = {{content | safe}}
      var tr;
       document.getElementById('player').src = json[0].src;
      for(var i = 0; i < json.length; i++) {
        tr = $('<tr/>');
        tr.append(`<td onclick="return switchPlayer('${ json[i].src }')" style="color:white" id="table-data">${ json[i].name }</td>`);
        $('tbody').append(tr);
      }
    });
    function switchPlayer(src) {
      console.log(src)
      document.getElementById('player').src = src;
    }
</script>
{% endblock %}
